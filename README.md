## 📎 모아니면개팀의 프로젝트 입니다

## 👀 서비스 소개
* 서비스명:  JOOSULSA
* 서비스설명: VGG16 기반 분리 분출 가이드 서비스
<br>

## 📅 프로젝트 기간
2023.12 ~ 2024.01(4주)

## ⭐ 주요 기능
* 기능1 : VGG16 기반 모델을 사용한 이미지 검색 기능
* 기능2 : JPA를 활용한 텍스트 검색 기능
* 기능3 : 포인트 적립 및 포인트 상점 기능
* 기능4 : KAKAOMAP API를 활용한 랭킹 기능
<br>

## ⛏ 기술스택
<table>
    <tr>
        <th>구분</th>
        <th>내용</th>
    </tr>
    <tr>
        <td>사용언어</td>
        <td>
            <img src="https://img.shields.io/badge/Java-007396?style=for-the-badge&logo=OpenJDK&logoColor=white"/>
            <img src="https://img.shields.io/badge/python-1572B6?style=for-the-badge&logo=python&logoColor=white"/>
            <img src="https://img.shields.io/badge/HTML5-E34F26?style=for-the-badge&logo=HTML5&logoColor=white"/>
            <img src="https://img.shields.io/badge/CSS3-E55A89?style=for-the-badge&logo=css3&logoColor=white"/>
            <img src="https://img.shields.io/badge/JavaScript-F7DF1E?style=for-the-badge&logo=JavaScript&logoColor=white"/>
        </td>
    </tr>
    <tr>
        <td>라이브러리</td>
        <td>
            <img src="https://img.shields.io/badge/KakaoMap-FFCD00?style=for-the-badge&logo=Kakao&logoColor=white"/>
            <img src="https://img.shields.io/badge/TensorFlow-BFCE99?style=for-the-badge&logo=Tensorflow&logoColor=white"/>
            <img src="https://img.shields.io/badge/OpenCV-F8AD40?style=for-the-badge&logo=OpenCV&logoColor=white"/>
            <img src="https://img.shields.io/badge/numpy-A4DE82?style=for-the-badge&logo=numpy&logoColor=white"/>
            <img src="https://img.shields.io/badge/sklearn-C8B3C4?style=for-the-badge&logo=scikit-learn&logoColor=white"/>
            <img src="https://img.shields.io/badge/Pillow-C8EC82?style=for-the-badge&logo=pil&logoColor=white"/>
        </td>
    </tr>
    <tr>
        <td>개발도구</td>
        <td>
            <img src="https://img.shields.io/badge/Eclipse-2C2255?style=for-the-badge&logo=Eclipse&logoColor=white"/>
            <img src="https://img.shields.io/badge/AndroidStudio-007ACC?style=for-the-badge&logo=AndroidStudio&logoColor=white"/>
            <img src="https://img.shields.io/badge/CoLab-567AD7?style=for-the-badge&logo=Google CoLab&logoColor=white"/>
            <img src="https://img.shields.io/badge/Jupyter-007ACC?style=for-the-badge&logo=Jupyter&logoColor=white"/>
        </td>
    </tr>
    <tr>
        <td>서버환경</td>
        <td>
            <img src="https://img.shields.io/badge/Spring boot-D22128?style=for-the-badge&logo=Spring boot&logoColor=white"/>
            <img src="https://img.shields.io/badge/Flask-D45C28?style=for-the-badge&logo=Flask&logoColor=white"/>
            <img src="https://img.shields.io/badge/Apache Tomcat-D22128?style=for-the-badge&logo=Apache Tomcat&logoColor=white"/>
        </td>
    </tr>
    <tr>
        <td>데이터베이스</td>
        <td>
            <img src="https://img.shields.io/badge/MySQL-4479A1?style=for-the-badge&logo=MySQL&logoColor=white"/> 
        </td>
    </tr>
    <tr>
        <td>협업도구</td>
        <td>
            <img src="https://img.shields.io/badge/Git-F05032?style=for-the-badge&logo=Git&logoColor=white"/>
            <img src="https://img.shields.io/badge/GitHub-181717?style=for-the-badge&logo=GitHub&logoColor=white"/>
        </td>
    </tr>
</table>


<br>

## ⚙ 시스템 아키텍처(구조) 예시 
![시스템 아키텍쳐](https://github.com/2023-SMHRD-KDT-AI-3/JOOSULSA/assets/140151834/042f1329-0945-4939-a182-724bd83624a1)
<br>

## 📌 SW유스케이스
![실전-유스케이스](https://github.com/2023-SMHRD-KDT-AI-3/JOOSULSA/assets/140151834/75351903-bfde-4d58-999b-a1a794a5dcd3)
<br>

## 📌 서비스 흐름도
![서비스 흐름도](https://github.com/2023-SMHRD-KDT-AI-3/JOOSULSA/assets/140151834/2a6fb30c-2811-4e56-bcd6-b9849f6f255c)
<br>

## 📌 ER다이어그램
![ERDiagram](https://github.com/2023-SMHRD-KDT-AI-3/JOOSULSA/assets/140151834/78e11c32-89f0-4376-b6c4-0218a2d18fc1)
<br>

## 🖥 화면 구성
### 메인화면
![image](https://github.com/zzzezzz/JOOSULSA/assets/140151816/b3efff72-a3ea-4ab3-8990-fc997aeedbc3)

<br>

### 텍스트 검색 페이지
![image](https://github.com/zzzezzz/JOOSULSA/assets/140151816/34723123-b792-4fd4-b335-d7f38ab652d1)

<br>

### 이미지 검색 페이지
![image](https://github.com/zzzezzz/JOOSULSA/assets/140151816/d6415d94-abb8-4bd4-ac74-08879532e62a)

<br>


### 퀴즈 페이지
![image](https://github.com/zzzezzz/JOOSULSA/assets/140151816/341dd67f-88ab-4687-9fab-e5214a102da0)

<br>

### 렝킹 페이지
![image](https://github.com/zzzezzz/JOOSULSA/assets/140151816/8238254f-e3df-41db-a420-7be652221a13)

<br>

### 상품 페이지
![image](https://github.com/zzzezzz/JOOSULSA/assets/140151816/ddfe6167-06aa-465c-93f8-2344e821f0f3)


<br>

### 출석체크 페이지
![image](https://github.com/zzzezzz/JOOSULSA/assets/140151816/21aea41b-633c-4098-9828-d84fa6c31d43)

<br>

### 마이페이지
![image](https://github.com/zzzezzz/JOOSULSA/assets/140151816/ac8acd35-ffa9-4224-81a2-c071b2036e71)

<br>

## 👨‍👩‍👦‍👦 팀원 역할
<table>
  <tr>
    <td align="center"><img src="https://item.kakaocdn.net/do/fd49574de6581aa2a91d82ff6adb6c0115b3f4e3c2033bfd702a321ec6eda72c" width="100" height="100"/></td>
    <td align="center"><img src="https://mb.ntdtv.kr/assets/uploads/2019/01/Screen-Shot-2019-01-08-at-4.31.55-PM-e1546932545978.png" width="100" height="100"/></td>
    <td align="center"><img src="https://mblogthumb-phinf.pstatic.net/20160127_177/krazymouse_1453865104404DjQIi_PNG/%C4%AB%C4%AB%BF%C0%C7%C1%B7%BB%C1%EE_%B6%F3%C0%CC%BE%F0.png?type=w2" width="100" height="100"/></td>
    <td align="center"><img src="https://i.pinimg.com/236x/ed/bb/53/edbb53d4f6dd710431c1140551404af9.jpg" width="100" height="100"/></td>
  </tr>
  <tr>
    <td align="center"><strong>양회진</strong></td>
    <td align="center"><strong>조현준</strong></td>
    <td align="center"><strong>정희철</strong></td>
    <td align="center"><strong>안진성</strong></td>
  </tr>
  <tr>
    <td align="center"><b>FullStack</b></td>
    <td align="center"><b>DB,FullStack</b></td>
    <td align="center"><b>DL,Backend</b></td>
    <td align="center"><b>FullStack</b></td>
  </tr>
  <tr>
    <td align="center"><a href="https://github.com/zzzezzz" target='_blank'>github</a></td>
    <td align="center"><a href="https://github.com/fdsv8596" target='_blank'>github</a></td>
    <td align="center"><a href="https://github.com/jhch1116" target='_blank'>github</a></td>
    <td align="center"><a href="https://github.com/fpdls2789" target='_blank'>github</a></td>
  </tr>
</table>

## 🤾‍♂️ 트러블슈팅

* 문제1<br>

문제 상황:
프로젝트에서 유저가 퀴즈를 풀면 포인트를 지급하는 메소드에서 failed to lazily initialize a collection of role 오류가 발생했습니다. 오류 메시지를 확인하여 LazyInitializationException 키워드를 확인했고, 기본 전략으로 설정된 지연 로딩 방식으로 인해 세션이 종료된 후에 지연 로딩된 테이블에 접근하려고 했기 때문에 발생한 문제임을 파악했습니다.

해결 방법:
트랜잭션 확장:
트랜잭션을 클래스 전체로 확장하여 해당 문제를 해결했습니다. 트랜잭션 범위를 클래스 전체로 확장하면 영속성 컨텍스트가 유지되어 세션이 종료되더라도 데이터를 지연 로딩할 수 있게 됩니다.

스프링 컨테이너의 트랜잭션 범위 이해:
트랜잭션 범위를 클래스 전체로 확장함으로써 스프링의 트랜잭션 관리 방식을 이해했습니다. 클래스 전체에 걸친 트랜잭션은 세션이 종료되더라도 영속성 컨텍스트가 살아있어 데이터를 로딩할 수 있게 됩니다.

영속성 컨텍스트의 생존 범위 이해:
세션이 종료되면서 영속성 컨텍스트가 소멸되는데, 지연 로딩된 엔티티에 접근하려고 하면 LazyInitializationException이 발생하는 것을 이해했습니다.

AOP(Aspect-Oriented Programming)의 개념 이해:
스프링의 트랜잭션 관리는 AOP를 사용하여 구현되는데, 이를 통해 핵심 비즈니스 로직과 트랜잭션 관리 로직을 분리할 수 있음을 이해했습니다.
이를 통해 스프링의 핵심 개념에 대한 이해를 높일 수 있었고, 향후 유사한 문제에 대한 빠른 대응이 가능해졌습니다.

실제로 나중에 포인트 내역을 조회하면서 동일한 문제가 발생하였고 이번에는 빠르게 dto를 작성하여 다른 방식으로 해결하였습니다
